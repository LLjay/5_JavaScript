<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .area{
            border: 1px solid black;
            background-color: aliceblue;
            height: 250px;
        }
    </style>
</head>
<body>
    <h1>정규식 표현</h1>
    <p>
        정규 표현식 (REGEX / REGEXP : Regular Expression)이란, <br>
        특정 패턴을 가진 문자열을 찾거나 또는 찾아서 변경할 때 사용하는 형식 <br>
        정규 표현식을 이용하면 문자열에 대한 특정 패턴 조건을 검사할 때 복잡하지 않게 할 수 있다.
    </p>

    <h3>*정규 표현식 객체 생성 및 정규 표현식과 관련된 메소드</h3>

    <button onclick="test1()">실행</button>
    <div class="area" id="area1"></div>

    <script>
        function test1(){
            const area = document.getElementById("area1");
            const str1 = "javascript jquery ajax";
            const str2 = "java oracle html css";

            // 정규 표현식 객체 생성
            // => 검색 조건으로 삼고자 하는 문자열 또는 특정 패턴을 만들어 객체 생성

            const regExp1 = new RegExp("script"); // 객체 생성 방법 1
            // RegExp 라는 객체를 이용해 생성
            const regExp2 = /script/; // 객체 생성 방법 2

            console.log(regExp1);
            console.log(regExp2);

            /**
             * RegExp 객체에서 제공하는 메소드
             * 1) 정규식.test(문자열) : 문자열에서 정규식 값과 일치하는 값이 있으면 true 없으면 false
             * 2) 정규식.exec(문자열) : 문자열에서 정규식 값과 일치하는 값이 있으면 해당 값 중 가장 처음에 찾은 값을 반환
             */
            // 웬만한 건 자바 스크립트에서 다 해줌, 가장 많이 쓰이는 건 test
            
            area.innerHTML += "regExp2.test(str1) : " + regExp2.test(str1) + "<br>";
            area.innerHTML += "regExp2.test(str2) : " + regExp2.test(str2) + "<br>";
            area.innerHTML += "regExp2.exec(str1) : " + regExp2.exec(str1) + "<br>";
            area.innerHTML += "regExp2.exec(str2) : " + regExp2.exec(str2) + "<br>";
            area.innerHTML += "str2.replace(regExp2, 스크립트) : " + str1.replace(regExp2, "") + "<br>";
            // 문자열에서 replace는 대체하는 것
        }   
    </script>
    <!-- 
        자바에서 검사할 것과 자바 스크립트에서 검사할 것을 구분하는 기준 => 서버로 오면 서버 컴퓨터에서 돈이 나감
        네트워크를 타면 오류날 가능성도 있음
        프론트에서, 클라이언트 컴퓨터에서 검사할 수 있으면 그렇게 하는 게 좋음
        아이디 중복 검사 등 데이터베이스에서 검사해야 하는 것들은 어쩔 수 없이 서버로 보내야 함
    -->

    <h3>*메타문자</h3>
    <p>
        메타문자를 이용해서 정규식으로 검색 조건 삼을 '특정 패턴'을 제시 가능 <br>
        문자열이 해당 정규식으로 제시한 특정 패턴에 만족 하는지 test()를 통해 검사할 수 있다.
        문자열의 replace 함수와 함께 사용해서 치환할 수 있다.
    </p>

    <button onclick="test2()">실행</button>
    <div class="area" id="area2" style="height: 500px;"></div>

    <script>
        function test2(){
            const area2 = document.getElementById("area2");
            const str = "javascript jquery ajax";

            let regExp = /a/; // 메타 문자가 없는 일반 a라는 문자를 넣음
            area2.innerHTML += '/a/ : ' + regExp.test(str) + "<br>";

            regExp = /^j/; // ^ : 시작을 의미, j로 시작하는 게 있는지
            area2.innerHTML += '/^j/ : ' + regExp.test(str) + "<br>";
            area2.innerHTML += '/^j/ : ' + str.replace(regExp, "*") + "<br>";
        
            // [] : [] 안의 여러 문자들을 목록처럼 나열 가능
            regExp = /[abc]/;
            area2.innerHTML += '/abc/ : ' + regExp.test(str) + "<br>";
            area2.innerHTML += '/abc/ : ' + str.replace(regExp, "*") + "<br>";

            // $ : 끝을 의미
            regExp = /x$/;
            area2.innerHTML += '/x$/ : ' + regExp.test(str) + "<br>";
            area2.innerHTML += '/x$/ : ' + str.replace(regExp, "*") + "<br>";

            const regRxp = /^[a-zA-Z0-9]{5,12}$/;
            // 이런 것도 가능함
            // 이런 걸 GPT한테 물어봐야 함, 이걸 공부하는 것보다 돌려보고 가져오는 게 좋음

        }
    </script>


</body>
</html>